@model IEnumerable<FlightManager.Model.Flight>

@{
    ViewBag.Title = "FlightList";
}

<h2>Flights</h2>

<p>
    <button id="btAddFlight">Ajouter</button>
    @Html.ActionLink("Ajouter", "Create", null, new { id = "btAddFlight2" })
</p>
<table class="table">
    <tr class="row">
        <th>Id</th>
        <th>Departure Airport</th>
        <th>Destination Airport</th>
        <th>Fuel Consuption (L)</th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr class="row">
            <td>@Html.DisplayFor(modelItem => item.FlightId)</td>
            <td>@Html.DisplayFor(modelItem => item.DepartureAirport.Name)</td>
            <td>@Html.DisplayFor(modelItem => item.DestinationAirport.Name)</td>
            <td>@Html.DisplayFor(modelItem => item.FuelConsuption)</td>
        </tr>
    }

</table>


<div id="dialog" title="Basic dialog" style="display: none;">
</div>
<script>
    $(document).ready(function () {
        //----- Add Flight Popup
        $("#btAddFlight").click(
            function () {
                var link = $(this);
                $('#dialog').dialog({
                    width: 'auto',
                    resizable: true,
                    title: 'Ajout',
                    modal: true,
                    open: function (event, ui) {
                        $(this).load("Flight/Create", function () {
                            $("#cancelAdd").click(
                                function () {
                                    $('#dialog').dialog("close");
                                });
                        });
                    }
                });
                return false;
            });
    });
</script>



